'use client';

import { genCdnUrl } from "../utils/genCdnUrl.mjs";
import { createContext, memo, use } from "react";
import { jsx } from "react/jsx-runtime";

//#region src/ConfigProvider/index.tsx
const ConfigContext = createContext(null);
const ConfigProvider = memo(({ children, config }) => {
	return /* @__PURE__ */ jsx(ConfigContext, {
		value: config,
		children
	});
});
const cdnFallback = ({ pkg, version, path }) => genCdnUrl({
	path,
	pkg,
	proxy: "aliyun",
	version
});
const useCdnFn = () => {
	const config = use(ConfigContext);
	if (!config) return cdnFallback;
	if (config?.proxy !== "custom") return ({ pkg, version, path }) => genCdnUrl({
		path,
		pkg,
		proxy: config.proxy,
		version
	});
	return config?.customCdnFn || cdnFallback;
};
var ConfigProvider_default = ConfigProvider;

//#endregion
export { ConfigContext, ConfigProvider_default as default, useCdnFn };
//# sourceMappingURL=index.mjs.map