{"version":3,"file":"TocMobile.mjs","names":["useControlledState","ActionIcon"],"sources":["../../src/Toc/TocMobile.tsx"],"sourcesContent":["'use client';\n\nimport { Anchor, Collapse, ConfigProvider } from 'antd';\nimport { PanelTopClose, PanelTopOpen } from 'lucide-react';\nimport { memo, useMemo } from 'react';\nimport useControlledState from 'use-merge-value';\n\nimport ActionIcon from '@/ActionIcon';\n\nimport { useStyles } from './style';\nimport type { TocMobileProps } from './type';\nimport { mapItems } from './utils';\n\nconst TocMobile = memo<TocMobileProps>(\n  ({ items, activeKey, onChange, getContainer, headerHeight = 64, tocWidth = 176 }) => {\n    const [activeLink, setActiveLink] = useControlledState<string>('', {\n      onChange,\n      value: activeKey,\n    });\n    const { styles } = useStyles({ headerHeight, tocWidth });\n\n    const activeAnchor = items.find((item) => item.id === activeLink);\n\n    const tocItems = useMemo(() => mapItems(items), [items]);\n\n    return (\n      <ConfigProvider theme={{ token: { fontSize: 12, sizeStep: 3 } }}>\n        <section className={styles.mobileCtn}>\n          <Collapse\n            className={styles.expand}\n            expandIcon={({ isActive }) => (\n              <ActionIcon icon={isActive ? PanelTopClose : PanelTopOpen} size={'small'} />\n            )}\n            expandIconPlacement={'end'}\n            ghost\n          >\n            <Collapse.Panel\n              forceRender\n              header={activeAnchor ? activeAnchor.title : 'TOC'}\n              key={'toc'}\n            >\n              <ConfigProvider theme={{ token: { fontSize: 14, sizeStep: 4 } }}>\n                <Anchor\n                  getContainer={getContainer}\n                  items={tocItems}\n                  onChange={(currentLink) => {\n                    setActiveLink(currentLink.replace('#', ''));\n                  }}\n                  targetOffset={headerHeight + 48}\n                />\n              </ConfigProvider>\n            </Collapse.Panel>\n          </Collapse>\n        </section>\n      </ConfigProvider>\n    );\n  },\n);\n\nTocMobile.displayName = 'TocMobile';\n\nexport default TocMobile;\n"],"mappings":";;;;;;;;;;;;AAaA,MAAM,YAAY,MACf,EAAE,OAAO,WAAW,UAAU,cAAc,eAAe,IAAI,WAAW,UAAU;CACnF,MAAM,CAAC,YAAY,iBAAiBA,cAA2B,IAAI;EACjE;EACA,OAAO;EACR,CAAC;CACF,MAAM,EAAE,WAAW,UAAU;EAAE;EAAc;EAAU,CAAC;CAExD,MAAM,eAAe,MAAM,MAAM,SAAS,KAAK,OAAO,WAAW;CAEjE,MAAM,WAAW,cAAc,SAAS,MAAM,EAAE,CAAC,MAAM,CAAC;AAExD,QACE,oBAAC;EAAe,OAAO,EAAE,OAAO;GAAE,UAAU;GAAI,UAAU;GAAG,EAAE;YAC7D,oBAAC;GAAQ,WAAW,OAAO;aACzB,oBAAC;IACC,WAAW,OAAO;IAClB,aAAa,EAAE,eACb,oBAACC;KAAW,MAAM,WAAW,gBAAgB;KAAc,MAAM;MAAW;IAE9E,qBAAqB;IACrB;cAEA,oBAAC,SAAS;KACR;KACA,QAAQ,eAAe,aAAa,QAAQ;eAG5C,oBAAC;MAAe,OAAO,EAAE,OAAO;OAAE,UAAU;OAAI,UAAU;OAAG,EAAE;gBAC7D,oBAAC;OACe;OACd,OAAO;OACP,WAAW,gBAAgB;AACzB,sBAAc,YAAY,QAAQ,KAAK,GAAG,CAAC;;OAE7C,cAAc,eAAe;QAC7B;OACa;OAXZ,MAYU;KACR;IACH;GACK;EAGtB;AAED,UAAU,cAAc;AAExB,wBAAe"}