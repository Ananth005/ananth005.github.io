'use client';

import { useState } from "react";
import { createPortal } from "react-dom";

//#region src/Tooltip/TooltipPortal.tsx
const PORTAL_ATTR = "data-lobe-ui-tooltip-portal";
const containerMap = /* @__PURE__ */ new WeakMap();
const getOrCreateContainer = (root) => {
	const cached = containerMap.get(root);
	if (cached && cached.isConnected) return cached;
	const el = document.createElement("div");
	el.setAttribute(PORTAL_ATTR, "true");
	root.append(el);
	containerMap.set(root, el);
	return el;
};
const resolveRoot = (root) => {
	if (root) return root;
	if (typeof document === "undefined") return null;
	return document.body;
};
const TooltipPortal = ({ children, root }) => {
	const [container, setContainer] = useState(() => {
		const resolved = resolveRoot(root);
		if (!resolved) return null;
		return getOrCreateContainer(resolved);
	});
	if (!container && typeof document !== "undefined") setContainer(getOrCreateContainer(document.body));
	if (!container) return null;
	return createPortal(children, container);
};
var TooltipPortal_default = TooltipPortal;

//#endregion
export { TooltipPortal_default as default };
//# sourceMappingURL=TooltipPortal.mjs.map