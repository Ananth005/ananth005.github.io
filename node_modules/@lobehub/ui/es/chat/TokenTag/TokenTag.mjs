'use client';

import FluentEmoji_default from "../../FluentEmoji/FluentEmoji.mjs";
import Button_default from "../../Button/Button.mjs";
import { useStyles } from "./style.mjs";
import { useMemo } from "react";
import { jsx, jsxs } from "react/jsx-runtime";
import { useResponsive } from "antd-style";
import { cva } from "class-variance-authority";
import numeral from "numeral";

//#region src/chat/TokenTag/TokenTag.tsx
const format = (number) => numeral(number).format("0,0");
const TokenTag = ({ className, shape = "round", mode = "remained", maxValue, value, text, unoptimized, hideText, ref, ...rest }) => {
	const { mobile } = useResponsive();
	const valueLeft = maxValue - value;
	const percent = valueLeft / maxValue;
	const showText = !hideText && !mobile;
	const data = useMemo(() => {
		let type;
		let emoji;
		if (percent > .3) {
			type = "normal";
			emoji = "ðŸ˜€";
		} else if (percent > 0) {
			type = "low";
			emoji = "ðŸ˜…";
		} else {
			type = "overload";
			emoji = "ðŸ¤¯";
		}
		return {
			emoji,
			type
		};
	}, [percent]);
	const { styles, cx: cx$1 } = useStyles();
	return /* @__PURE__ */ jsxs(Button_default, {
		className: cx$1(useMemo(() => cva(styles.root, {
			defaultVariants: { type: "normal" },
			variants: { type: {
				normal: styles.normal,
				low: styles.low,
				overload: styles.overload
			} }
		}), [styles])({ type: data.type }), className),
		ref,
		shape,
		variant: "filled",
		...rest,
		children: [/* @__PURE__ */ jsx(FluentEmoji_default, {
			emoji: data.emoji,
			size: 18,
			unoptimized
		}), valueLeft > 0 ? [showText ? mode === "remained" ? text?.remained || "Remained" : text?.used || "Used" : "", mode === "remained" ? format(valueLeft) : format(value)].join(" ") : text?.overload || "Overload"]
	});
};
TokenTag.displayName = "TokenTag";
var TokenTag_default = TokenTag;

//#endregion
export { TokenTag_default as default };
//# sourceMappingURL=TokenTag.mjs.map