{"version":3,"file":"Text.mjs","names":["Text: FC<TextProps>","Tooltip"],"sources":["../../src/Text/Text.tsx"],"sourcesContent":["'use client';\n\nimport { cva } from 'class-variance-authority';\nimport { type FC, useMemo } from 'react';\n\nimport Tooltip from '@/Tooltip';\n\nimport { useStyles } from './styles';\nimport type { TextProps } from './type';\n\nconst Text: FC<TextProps> = ({\n  as: Container = 'div',\n  align,\n  className,\n  children,\n  style,\n  type,\n  disabled,\n  strong,\n  italic,\n  underline,\n  delete: deleteStyle,\n  fontSize,\n  mark,\n  code,\n  color,\n  weight,\n  ellipsis,\n  ...rest\n}) => {\n  const { styles, cx } = useStyles();\n\n  const variants = useMemo(\n    () =>\n      cva(styles.text, {\n        defaultVariants: {},\n        variants: {\n          as: {\n            h1: styles.h1,\n            h2: styles.h2,\n            h3: styles.h3,\n            h4: styles.h4,\n            h5: styles.h5,\n            p: styles.p,\n          },\n          code: {\n            true: styles.code,\n          },\n          delete: {\n            true: styles.delete,\n          },\n          disabled: {\n            true: styles.disabled,\n          },\n          ellipsis: {\n            multi: styles.ellipsisMulti,\n            true: styles.ellipsis,\n          },\n          italic: {\n            true: styles.italic,\n          },\n          mark: {\n            true: styles.mark,\n          },\n          strong: {\n            true: styles.strong,\n          },\n          type: {\n            danger: styles.danger,\n            info: styles.info,\n            secondary: styles.secondary,\n            success: styles.success,\n            warning: styles.warning,\n          },\n          underline: {\n            true: styles.underline,\n          },\n        },\n      }),\n    [styles],\n  );\n\n  const textStyle = {\n    ...(color && { color }),\n    ...(weight && { fontWeight: weight }),\n    ...(typeof ellipsis === 'object' &&\n      ellipsis.rows && {\n        WebkitLineClamp: ellipsis.rows,\n      }),\n    ...(fontSize && { fontSize }),\n    ...(align && { textAlign: align }),\n    ...style,\n  };\n\n  const content = (\n    <Container\n      className={cx(\n        variants({\n          as: ['h1', 'h2', 'h3', 'h4', 'h5', 'p'].includes(Container as string)\n            ? (Container as any)\n            : undefined,\n          code,\n          delete: deleteStyle,\n          disabled,\n          ellipsis: ellipsis\n            ? typeof ellipsis === 'object' && ellipsis.rows\n              ? 'multi'\n              : true\n            : undefined,\n          italic,\n          mark,\n          strong,\n          type,\n          underline,\n        }),\n        className,\n      )}\n      style={textStyle}\n      {...rest}\n    >\n      {children}\n    </Container>\n  );\n\n  // 处理带有 tooltip 的省略\n  if (ellipsis && typeof ellipsis === 'object' && ellipsis.tooltip) {\n    const title = typeof ellipsis.tooltip === 'string' ? ellipsis.tooltip : children;\n    if (typeof ellipsis.tooltip === 'object')\n      return (\n        <Tooltip {...ellipsis.tooltip} title={ellipsis.tooltip?.title || title}>\n          {content}\n        </Tooltip>\n      );\n    return <Tooltip title={title}>{content}</Tooltip>;\n  }\n\n  return content;\n};\n\nText.displayName = 'Text';\n\nexport default Text;\n"],"mappings":";;;;;;;;;AAUA,MAAMA,QAAuB,EAC3B,IAAI,YAAY,OAChB,OACA,WACA,UACA,OACA,MACA,UACA,QACA,QACA,WACA,QAAQ,aACR,UACA,MACA,MACA,OACA,QACA,UACA,GAAG,WACC;CACJ,MAAM,EAAE,QAAQ,OAAO,WAAW;CAElC,MAAM,WAAW,cAEb,IAAI,OAAO,MAAM;EACf,iBAAiB,EAAE;EACnB,UAAU;GACR,IAAI;IACF,IAAI,OAAO;IACX,IAAI,OAAO;IACX,IAAI,OAAO;IACX,IAAI,OAAO;IACX,IAAI,OAAO;IACX,GAAG,OAAO;IACX;GACD,MAAM,EACJ,MAAM,OAAO,MACd;GACD,QAAQ,EACN,MAAM,OAAO,QACd;GACD,UAAU,EACR,MAAM,OAAO,UACd;GACD,UAAU;IACR,OAAO,OAAO;IACd,MAAM,OAAO;IACd;GACD,QAAQ,EACN,MAAM,OAAO,QACd;GACD,MAAM,EACJ,MAAM,OAAO,MACd;GACD,QAAQ,EACN,MAAM,OAAO,QACd;GACD,MAAM;IACJ,QAAQ,OAAO;IACf,MAAM,OAAO;IACb,WAAW,OAAO;IAClB,SAAS,OAAO;IAChB,SAAS,OAAO;IACjB;GACD,WAAW,EACT,MAAM,OAAO,WACd;GACF;EACF,CAAC,EACJ,CAAC,OAAO,CACT;CAED,MAAM,YAAY;EAChB,GAAI,SAAS,EAAE,OAAO;EACtB,GAAI,UAAU,EAAE,YAAY,QAAQ;EACpC,GAAI,OAAO,aAAa,YACtB,SAAS,QAAQ,EACf,iBAAiB,SAAS,MAC3B;EACH,GAAI,YAAY,EAAE,UAAU;EAC5B,GAAI,SAAS,EAAE,WAAW,OAAO;EACjC,GAAG;EACJ;CAED,MAAM,UACJ,oBAAC;EACC,WAAW,GACT,SAAS;GACP,IAAI;IAAC;IAAM;IAAM;IAAM;IAAM;IAAM;IAAI,CAAC,SAAS,UAAoB,GAChE,YACD;GACJ;GACA,QAAQ;GACR;GACA,UAAU,WACN,OAAO,aAAa,YAAY,SAAS,OACvC,UACA,OACF;GACJ;GACA;GACA;GACA;GACA;GACD,CAAC,EACF,UACD;EACD,OAAO;EACP,GAAI;EAEH;GACS;AAId,KAAI,YAAY,OAAO,aAAa,YAAY,SAAS,SAAS;EAChE,MAAM,QAAQ,OAAO,SAAS,YAAY,WAAW,SAAS,UAAU;AACxE,MAAI,OAAO,SAAS,YAAY,SAC9B,QACE,oBAACC;GAAQ,GAAI,SAAS;GAAS,OAAO,SAAS,SAAS,SAAS;aAC9D;IACO;AAEd,SAAO,oBAACA;GAAe;aAAQ;IAAkB;;AAGnD,QAAO;;AAGT,KAAK,cAAc;AAEnB,mBAAe"}