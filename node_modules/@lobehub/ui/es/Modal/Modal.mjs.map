{"version":3,"file":"Modal.mjs","names":["Modal","cx","ActionIcon","AntModal","Icon"],"sources":["../../src/Modal/Modal.tsx"],"sourcesContent":["'use client';\n\nimport { Modal as AntModal, Button, ConfigProvider, Drawer } from 'antd';\nimport { useResponsive } from 'antd-style';\nimport { Maximize2, Minimize2, X } from 'lucide-react';\nimport { ReactNode, memo, useState } from 'react';\n\nimport ActionIcon from '@/ActionIcon';\nimport Icon from '@/Icon';\n\nimport { useStyles } from './style';\nimport type { ModalProps } from './type';\n\nconst Modal = memo<ModalProps>(\n  ({\n    panelRef,\n    allowFullscreen,\n    children,\n    title = ' ',\n    className,\n    classNames,\n    width = 700,\n    onCancel,\n    open,\n    destroyOnHidden,\n    paddings,\n    height = '75dvh',\n    enableResponsive = true,\n    footer,\n    styles: customStyles,\n    okText,\n    onOk,\n    cancelText,\n    okButtonProps,\n    cancelButtonProps,\n    confirmLoading,\n    ...rest\n  }) => {\n    const [fullscreen, setFullscreen] = useState(false);\n    const { mobile } = useResponsive();\n    const { styles, cx, theme } = useStyles();\n    const hideFooter = footer === false || footer === null;\n    if (enableResponsive && mobile)\n      return (\n        <ConfigProvider\n          theme={{\n            token: {\n              colorBgElevated: theme.colorBgContainer,\n            },\n          }}\n        >\n          <Drawer\n            className={cx(styles.drawerContent, className)}\n            classNames={\n              typeof classNames === 'function'\n                ? classNames\n                : {\n                    ...classNames,\n                    wrapper: cx(styles.wrap, classNames?.wrapper),\n                  }\n            }\n            closeIcon={<ActionIcon icon={X} />}\n            destroyOnHidden={destroyOnHidden}\n            extra={\n              allowFullscreen && (\n                <ActionIcon\n                  icon={fullscreen ? Minimize2 : Maximize2}\n                  onClick={() => setFullscreen(!fullscreen)}\n                />\n              )\n            }\n            footer={\n              hideFooter\n                ? null\n                : (footer as ReactNode) || (\n                    <>\n                      <Button\n                        color={'default'}\n                        onClick={onCancel as any}\n                        variant={'filled'}\n                        {...cancelButtonProps}\n                      >\n                        {cancelText || 'Cancel'}\n                      </Button>\n                      <Button\n                        loading={confirmLoading}\n                        onClick={onOk as any}\n                        type=\"primary\"\n                        {...okButtonProps}\n                        style={{\n                          marginInlineStart: 8,\n                          ...okButtonProps?.style,\n                        }}\n                      >\n                        {okText || 'OK'}\n                      </Button>\n                    </>\n                  )\n            }\n            height={fullscreen ? 'calc(100% - env(safe-area-inset-top))' : height}\n            onClose={onCancel as any}\n            open={open}\n            panelRef={panelRef}\n            placement={'bottom'}\n            styles={\n              typeof customStyles === 'function'\n                ? customStyles\n                : {\n                    ...customStyles,\n                    body: {\n                      paddingBlock: `16px ${footer ? 0 : '16px'}`,\n                      paddingInline: paddings?.desktop ?? 16,\n                      ...customStyles?.body,\n                    },\n                  }\n            }\n            title={title}\n            {...rest}\n          >\n            {children}\n          </Drawer>\n        </ConfigProvider>\n      );\n\n    return (\n      <ConfigProvider\n        theme={{\n          token: {\n            colorBgElevated: theme.colorBgContainer,\n          },\n        }}\n      >\n        <AntModal\n          cancelButtonProps={{\n            color: 'default',\n            variant: 'filled',\n            ...cancelButtonProps,\n          }}\n          cancelText={cancelText}\n          className={cx(styles.content, className)}\n          classNames={\n            typeof classNames === 'function'\n              ? classNames\n              : {\n                  ...classNames,\n                  wrapper: cx(styles.wrap, classNames?.wrapper),\n                }\n          }\n          closable\n          closeIcon={<Icon icon={X} size={20} />}\n          confirmLoading={confirmLoading}\n          destroyOnHidden={destroyOnHidden}\n          footer={hideFooter ? null : footer}\n          maskClosable\n          okButtonProps={okButtonProps}\n          okText={okText}\n          onCancel={onCancel}\n          onOk={onOk}\n          open={open}\n          panelRef={panelRef}\n          styles={\n            typeof customStyles === 'function'\n              ? customStyles\n              : {\n                  ...customStyles,\n                  body: {\n                    maxHeight: height,\n                    overflow: 'hidden auto',\n                    paddingBlock: `0 ${footer === null ? '16px' : 0}`,\n                    paddingInline: paddings?.desktop ?? 16,\n                    ...customStyles?.body,\n                  },\n                }\n          }\n          title={title}\n          width={width}\n          {...rest}\n        >\n          {children}\n        </AntModal>\n      </ConfigProvider>\n    );\n  },\n);\n\nModal.displayName = 'Modal';\n\nexport default Modal;\n"],"mappings":";;;;;;;;;;;;AAaA,MAAMA,UAAQ,MACX,EACC,UACA,iBACA,UACA,QAAQ,KACR,WACA,YACA,QAAQ,KACR,UACA,MACA,iBACA,UACA,SAAS,SACT,mBAAmB,MACnB,QACA,QAAQ,cACR,QACA,MACA,YACA,eACA,mBACA,gBACA,GAAG,WACC;CACJ,MAAM,CAAC,YAAY,iBAAiB,SAAS,MAAM;CACnD,MAAM,EAAE,WAAW,eAAe;CAClC,MAAM,EAAE,QAAQ,UAAI,UAAU,WAAW;CACzC,MAAM,aAAa,WAAW,SAAS,WAAW;AAClD,KAAI,oBAAoB,OACtB,QACE,oBAAC;EACC,OAAO,EACL,OAAO,EACL,iBAAiB,MAAM,kBACxB,EACF;YAED,oBAAC;GACC,WAAWC,KAAG,OAAO,eAAe,UAAU;GAC9C,YACE,OAAO,eAAe,aAClB,aACA;IACE,GAAG;IACH,SAASA,KAAG,OAAO,MAAM,YAAY,QAAQ;IAC9C;GAEP,WAAW,oBAACC,sBAAW,MAAM,IAAK;GACjB;GACjB,OACE,mBACE,oBAACA;IACC,MAAM,aAAa,YAAY;IAC/B,eAAe,cAAc,CAAC,WAAW;KACzC;GAGN,QACE,aACI,OACC,UACC,8CACE,oBAAC;IACC,OAAO;IACP,SAAS;IACT,SAAS;IACT,GAAI;cAEH,cAAc;KACR,EACT,oBAAC;IACC,SAAS;IACT,SAAS;IACT,MAAK;IACL,GAAI;IACJ,OAAO;KACL,mBAAmB;KACnB,GAAG,eAAe;KACnB;cAEA,UAAU;KACJ,IACR;GAGX,QAAQ,aAAa,0CAA0C;GAC/D,SAAS;GACH;GACI;GACV,WAAW;GACX,QACE,OAAO,iBAAiB,aACpB,eACA;IACE,GAAG;IACH,MAAM;KACJ,cAAc,QAAQ,SAAS,IAAI;KACnC,eAAe,UAAU,WAAW;KACpC,GAAG,cAAc;KAClB;IACF;GAEA;GACP,GAAI;GAEH;IACM;GACM;AAGrB,QACE,oBAAC;EACC,OAAO,EACL,OAAO,EACL,iBAAiB,MAAM,kBACxB,EACF;YAED,oBAACC;GACC,mBAAmB;IACjB,OAAO;IACP,SAAS;IACT,GAAG;IACJ;GACW;GACZ,WAAWF,KAAG,OAAO,SAAS,UAAU;GACxC,YACE,OAAO,eAAe,aAClB,aACA;IACE,GAAG;IACH,SAASA,KAAG,OAAO,MAAM,YAAY,QAAQ;IAC9C;GAEP;GACA,WAAW,oBAACG;IAAK,MAAM;IAAG,MAAM;KAAM;GACtB;GACC;GACjB,QAAQ,aAAa,OAAO;GAC5B;GACe;GACP;GACE;GACJ;GACA;GACI;GACV,QACE,OAAO,iBAAiB,aACpB,eACA;IACE,GAAG;IACH,MAAM;KACJ,WAAW;KACX,UAAU;KACV,cAAc,KAAK,WAAW,OAAO,SAAS;KAC9C,eAAe,UAAU,WAAW;KACpC,GAAG,cAAc;KAClB;IACF;GAEA;GACA;GACP,GAAI;GAEH;IACQ;GACI;EAGtB;AAED,QAAM,cAAc;AAEpB,oBAAeJ"}