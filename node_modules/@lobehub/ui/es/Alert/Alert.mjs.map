{"version":3,"file":"Alert.mjs","names":["Alert","AntdAlert","ActionIcon","Icon","Flexbox","Accordion","AccordionItem"],"sources":["../../src/Alert/Alert.tsx"],"sourcesContent":["'use client';\n\nimport { Alert as AntdAlert } from 'antd';\nimport { cva } from 'class-variance-authority';\nimport { camelCase } from 'lodash-es';\nimport { AlertTriangle, CheckCircle, Info, X, XCircle } from 'lucide-react';\nimport { memo, useMemo } from 'react';\n\nimport { Accordion, AccordionItem } from '@/Accordion';\nimport ActionIcon from '@/ActionIcon';\nimport { Flexbox } from '@/Flex';\nimport Icon from '@/Icon';\n\nimport { useStyles } from './style';\nimport type { AlertProps } from './type';\n\nconst typeIcons = {\n  error: XCircle,\n  info: Info,\n  secondary: AlertTriangle,\n  success: CheckCircle,\n  warning: AlertTriangle,\n};\n\nconst colors = (theme: any, type: string = 'info', ...keys: string[]) => {\n  if (type === 'secondary') return theme[camelCase(['color', ...keys].join('-'))] as string;\n  return theme[camelCase(['color', type, ...keys].join('-'))] as string;\n};\n\nconst Alert = memo<AlertProps>(\n  ({\n    closable = false,\n    description,\n    showIcon = true,\n    type = 'info',\n    glass,\n    icon,\n    colorfulText = true,\n    iconProps,\n    style,\n    extra,\n    classNames,\n    styles: customStyles,\n    text,\n    extraDefaultExpand = false,\n    extraIsolate,\n    banner,\n    variant = 'filled',\n    ref,\n    ...rest\n  }) => {\n    const { theme, styles, cx } = useStyles({\n      closable: !!closable,\n      hasTitle: !!description,\n      showIcon: !!showIcon,\n    });\n\n    const variants = useMemo(\n      () =>\n        cva(styles.root, {\n          defaultVariants: {\n            colorfulText: true,\n            glass: false,\n            variant: 'filled',\n          },\n          /* eslint-disable sort-keys-fix/sort-keys-fix */\n          variants: {\n            variant: {\n              filled: styles.filled,\n              outlined: styles.outlined,\n              borderless: styles.borderless,\n            },\n            glass: {\n              false: null,\n              true: styles.glass,\n            },\n            colorfulText: {\n              false: null,\n              true: styles.colorfulText,\n            },\n            hasExtra: {\n              false: null,\n              true: styles.hasExtra,\n            },\n          },\n          /* eslint-enable sort-keys-fix/sort-keys-fix */\n        }),\n      [styles],\n    );\n\n    const extraVariants = useMemo(\n      () =>\n        cva(styles.extra, {\n          defaultVariants: {\n            variant: 'filled',\n          },\n          /* eslint-disable sort-keys-fix/sort-keys-fix */\n          variants: {\n            variant: {\n              filled: styles.filled,\n              outlined: styles.outlined,\n              borderless: styles.borderless,\n            },\n            banner: {\n              false: null,\n              true: styles.banner,\n            },\n          },\n          /* eslint-enable sort-keys-fix/sort-keys-fix */\n        }),\n      [styles],\n    );\n\n    const extraHeaderVariants = useMemo(\n      () =>\n        cva(styles.extraHeader, {\n          defaultVariants: {\n            variant: 'filled',\n          },\n          /* eslint-disable sort-keys-fix/sort-keys-fix */\n          variants: {\n            variant: {\n              filled: null,\n              outlined: null,\n              borderless: styles.borderlessExtraHeader,\n            },\n          },\n          /* eslint-enable sort-keys-fix/sort-keys-fix */\n        }),\n      [styles],\n    );\n\n    const isInsideExtra = Boolean(!extraIsolate && !!extra);\n\n    const alert = (\n      <AntdAlert\n        banner={banner}\n        className={cx(\n          variants({\n            colorfulText,\n            glass,\n            hasExtra: isInsideExtra,\n            variant,\n          }),\n          classNames?.alert,\n        )}\n        closable={\n          typeof closable === 'boolean'\n            ? closable\n            : {\n                closeIcon: <ActionIcon color={colors(theme, type)} icon={X} size={'small'} />,\n                ...closable,\n              }\n        }\n        description={description}\n        icon={\n          <Icon\n            color={type === 'secondary' ? theme.colorTextSecondary : undefined}\n            icon={typeIcons[type] || icon}\n            size={description ? 24 : 18}\n            {...iconProps}\n          />\n        }\n        ref={ref}\n        showIcon={showIcon}\n        style={{\n          background: colors(theme, type, 'fillTertiary'),\n          borderColor: colors(theme, type, 'fillSecondary'),\n          color: colorfulText ? colors(theme, type) : undefined,\n          ...style,\n          ...customStyles?.alert,\n        }}\n        type={type === 'secondary' ? 'info' : type}\n        {...rest}\n      />\n    );\n\n    if (!extra) return alert;\n\n    if (extraIsolate)\n      return (\n        <Flexbox className={classNames?.container} gap={8}>\n          {alert}\n          {extra}\n        </Flexbox>\n      );\n\n    return (\n      <Flexbox className={classNames?.container} style={customStyles?.container}>\n        {alert}\n        <Flexbox\n          className={extraVariants({ banner, variant })}\n          style={{\n            background: colors(theme, type, 'fillTertiary'),\n            borderColor: colors(theme, type, 'fillSecondary'),\n            color: colors(theme, type),\n            fontSize: description ? 14 : 12,\n          }}\n        >\n          <Accordion defaultExpandedKeys={extraDefaultExpand ? ['extra'] : []}>\n            <AccordionItem\n              classNames={{\n                content: classNames?.extraContent,\n                header: extraHeaderVariants({ variant }),\n              }}\n              itemKey={'extra'}\n              styles={{\n                content: {\n                  fontSize: 12,\n                  ...customStyles?.extraContent,\n                },\n                header: {\n                  borderColor: colors(theme, type, 'fillSecondary'),\n                },\n                indicator: {\n                  color: colors(theme, type),\n                },\n                title: {\n                  color: colors(theme, type),\n                  fontSize: 12,\n                },\n              }}\n              title={text?.detail || 'Show Details'}\n            >\n              {extra}\n            </AccordionItem>\n          </Accordion>\n        </Flexbox>\n      </Flexbox>\n    );\n  },\n);\n\nAlert.displayName = 'Alert';\n\nexport default Alert;\n"],"mappings":";;;;;;;;;;;;;;;;AAgBA,MAAM,YAAY;CAChB,OAAO;CACP,MAAM;CACN,WAAW;CACX,SAAS;CACT,SAAS;CACV;AAED,MAAM,UAAU,OAAY,OAAe,QAAQ,GAAG,SAAmB;AACvE,KAAI,SAAS,YAAa,QAAO,MAAM,UAAU,CAAC,SAAS,GAAG,KAAK,CAAC,KAAK,IAAI,CAAC;AAC9E,QAAO,MAAM,UAAU;EAAC;EAAS;EAAM,GAAG;EAAK,CAAC,KAAK,IAAI,CAAC;;AAG5D,MAAMA,UAAQ,MACX,EACC,WAAW,OACX,aACA,WAAW,MACX,OAAO,QACP,OACA,MACA,eAAe,MACf,WACA,OACA,OACA,YACA,QAAQ,cACR,MACA,qBAAqB,OACrB,cACA,QACA,UAAU,UACV,KACA,GAAG,WACC;CACJ,MAAM,EAAE,OAAO,QAAQ,OAAO,UAAU;EACtC,UAAU,CAAC,CAAC;EACZ,UAAU,CAAC,CAAC;EACZ,UAAU,CAAC,CAAC;EACb,CAAC;CAEF,MAAM,WAAW,cAEb,IAAI,OAAO,MAAM;EACf,iBAAiB;GACf,cAAc;GACd,OAAO;GACP,SAAS;GACV;EAED,UAAU;GACR,SAAS;IACP,QAAQ,OAAO;IACf,UAAU,OAAO;IACjB,YAAY,OAAO;IACpB;GACD,OAAO;IACL,OAAO;IACP,MAAM,OAAO;IACd;GACD,cAAc;IACZ,OAAO;IACP,MAAM,OAAO;IACd;GACD,UAAU;IACR,OAAO;IACP,MAAM,OAAO;IACd;GACF;EAEF,CAAC,EACJ,CAAC,OAAO,CACT;CAED,MAAM,gBAAgB,cAElB,IAAI,OAAO,OAAO;EAChB,iBAAiB,EACf,SAAS,UACV;EAED,UAAU;GACR,SAAS;IACP,QAAQ,OAAO;IACf,UAAU,OAAO;IACjB,YAAY,OAAO;IACpB;GACD,QAAQ;IACN,OAAO;IACP,MAAM,OAAO;IACd;GACF;EAEF,CAAC,EACJ,CAAC,OAAO,CACT;CAED,MAAM,sBAAsB,cAExB,IAAI,OAAO,aAAa;EACtB,iBAAiB,EACf,SAAS,UACV;EAED,UAAU,EACR,SAAS;GACP,QAAQ;GACR,UAAU;GACV,YAAY,OAAO;GACpB,EACF;EAEF,CAAC,EACJ,CAAC,OAAO,CACT;CAID,MAAM,QACJ,oBAACC;EACS;EACR,WAAW,GACT,SAAS;GACP;GACA;GACA,UATc,QAAQ,CAAC,gBAAgB,CAAC,CAAC,MAAM;GAU/C;GACD,CAAC,EACF,YAAY,MACb;EACD,UACE,OAAO,aAAa,YAChB,WACA;GACE,WAAW,oBAACC;IAAW,OAAO,OAAO,OAAO,KAAK;IAAE,MAAM;IAAG,MAAM;KAAW;GAC7E,GAAG;GACJ;EAEM;EACb,MACE,oBAACC;GACC,OAAO,SAAS,cAAc,MAAM,qBAAqB;GACzD,MAAM,UAAU,SAAS;GACzB,MAAM,cAAc,KAAK;GACzB,GAAI;IACJ;EAEC;EACK;EACV,OAAO;GACL,YAAY,OAAO,OAAO,MAAM,eAAe;GAC/C,aAAa,OAAO,OAAO,MAAM,gBAAgB;GACjD,OAAO,eAAe,OAAO,OAAO,KAAK,GAAG;GAC5C,GAAG;GACH,GAAG,cAAc;GAClB;EACD,MAAM,SAAS,cAAc,SAAS;EACtC,GAAI;GACJ;AAGJ,KAAI,CAAC,MAAO,QAAO;AAEnB,KAAI,aACF,QACE,qBAACC;EAAQ,WAAW,YAAY;EAAW,KAAK;aAC7C,OACA;GACO;AAGd,QACE,qBAACA;EAAQ,WAAW,YAAY;EAAW,OAAO,cAAc;aAC7D,OACD,oBAACA;GACC,WAAW,cAAc;IAAE;IAAQ;IAAS,CAAC;GAC7C,OAAO;IACL,YAAY,OAAO,OAAO,MAAM,eAAe;IAC/C,aAAa,OAAO,OAAO,MAAM,gBAAgB;IACjD,OAAO,OAAO,OAAO,KAAK;IAC1B,UAAU,cAAc,KAAK;IAC9B;aAED,oBAACC;IAAU,qBAAqB,qBAAqB,CAAC,QAAQ,GAAG,EAAE;cACjE,oBAACC;KACC,YAAY;MACV,SAAS,YAAY;MACrB,QAAQ,oBAAoB,EAAE,SAAS,CAAC;MACzC;KACD,SAAS;KACT,QAAQ;MACN,SAAS;OACP,UAAU;OACV,GAAG,cAAc;OAClB;MACD,QAAQ,EACN,aAAa,OAAO,OAAO,MAAM,gBAAgB,EAClD;MACD,WAAW,EACT,OAAO,OAAO,OAAO,KAAK,EAC3B;MACD,OAAO;OACL,OAAO,OAAO,OAAO,KAAK;OAC1B,UAAU;OACX;MACF;KACD,OAAO,MAAM,UAAU;eAEtB;MACa;KACN;IACJ;GACF;EAGf;AAED,QAAM,cAAc;AAEpB,oBAAeN"}